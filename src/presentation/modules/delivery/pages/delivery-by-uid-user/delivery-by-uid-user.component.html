<div style="display: flex;">
  <div class="col col-lg-1 p-4 ps-5">
    <sofka-back-button [routeBack]="routeDashboard"></sofka-back-button>
  </div>
  <div style="flex-grow: 1; padding-right: 10px;">
    <!--Create a table with the list of deliveries obtained by pathID-->
    <div class="row m-3" style="flex: 1;">
      <hr class="my-4" />
      <h3>Deliveries</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">User</th>
            <th scope="col">Delivery at</th>
            <th scope="col">Delivery field</th>
          </tr>
        </thead>
        <tbody *ngIf="!searching" class="table-group-divider text-king-blue text-center">
          <tr *ngIf=" empty;else datosAll" class="text-center">
            <th colspan="4">No delivery yet</th>
          </tr>
          <ng-template #datosAll class="text-light">
            <tr *ngFor="let item of deliveryItems">
              <td>{{item.uidUser}}</td>
              <td>{{item.deliveryAt | date: 'dd/MM/yyyy'}}</td>
              <td><a href="{{item.DeliveryField}}">{{item.DeliveryField}}</a></td>
              <td>
                <button type="button" class="btn btn-primary" (click)="viewDeliveryDetails(item)">View</button>
              </td>
            </tr>
          </ng-template>
        </tbody>
      </table>
    </div>

    <!--Create a bottom to get deliveries by uidUser with the input uidUser-->
    <!-- <div style="flex: 1;">
      <h3>Get deliveries by uidUser</h3>
      <form [formGroup]="getDeliveriesByUidUserForm" class="form-control" id="getDeliveriesByUidUserForm">
        <div>
          <label for="uidUser">uidUser</label>
          <div>
            <input type="text" id="uidUser" formControlName="uidUser">
          </div>
          <div *ngIf="getDeliveriesByUidUserForm.get('uidUser')?.hasError('required') &&
              getDeliveriesByUidUserForm.get('uidUser')?.touched">
            <p class="text-bg-danger">
              uidUser is required
            </p>
          </div>
        </div>
      </form>
      <div>
        <button type="submit" [disabled]="!getDeliveriesByUidUserForm.valid" (click)="getDeliveriesByUidUser()">Get
          Deliveries</button>
      </div>
    </div> -->
  </div>

  <div style="flex-basis: 40%;">
    <!--Create a list to get a especific delivery by ID using this.deliveryItem-->
    <div class="row m-3" *ngIf="showDelivery">
      <hr class="my-4" />
      <h3>Delivery</h3>
      <div class="table-container">
        <table class="table table-striped table-inverted">
          <tbody>
            <tr>
              <th>uid user</th>
              <td>{{deliveryItem.uidUser}}</td>
            </tr>
            <tr>
              <th>delivery at</th>
              <td>{{deliveryItem.deliveryAt | date: 'dd/MM/yyyy'}}</td>
            </tr>
            <tr>
              <th>delivery field</th>
              <td><a href="{{deliveryItem.DeliveryField}}">{{deliveryItem.DeliveryField}}</a></td>
            </tr>
            <tr>
              <th>rating</th>
              <td>{{deliveryItem.rating}}</td>
            </tr>
            <tr>
              <th>comment</th>
              <td>{{deliveryItem.comment}}</td>
            </tr>
            <tr>
              <th>rated at</th>
              <td>{{deliveryItem.ratedAt | date: 'dd/MM/yyyy'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-success" (click)="closeDeliveryDetails()">Close</button>
      </div>
    </div>

  </div>
</div>
